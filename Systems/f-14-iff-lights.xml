<?xml version="1.0" encoding="UTF-8"?>
<!--
        Title:        F-14 IFF LIGHTS 
        Description:  Currently only the test mode is simulated
                      This is implmented as a system because
                      we can't use expressions and only factor-prop
                      on the emissions.
        Author:       Richard Harrison (rjh@zaretto.com)
        References:   NAVAIR-01-F14AAP-1 (NATOPS)
-->
<PropertyList>
    <filter>
        <name>iff-test-reply-button-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-test-reply-button</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-test-reply-test</property>
        </output>
    </filter>

    <filter>
        <name>iff-test-button-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-test-button</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-test-test</property>
        </output>
    </filter>

    <filter>
        <name>iff-m1-switch-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-m1-switch</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-m1-test</property>
        </output>
    </filter>

    <filter>
        <name>iff-m2-switch-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-m2-switch</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-m2-test</property>
        </output>
    </filter>

    <filter>
        <name>iff-m3-switch-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-m3-switch</property>
                            <property>instrumentation/iff/iff-mc-switch</property>
                            <property>instrumentation/iff/iff-rad-switch</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-m3-test</property>
        </output>
    </filter>

    <filter>
        <name>iff-mc-switch-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/iff-mc-switch</property>
                            <property>instrumentation/iff/iff-m3-switch</property>
                            <property>instrumentation/iff/iff-rad-switch</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/iff-mc-test</property>
        </output>
    </filter>

    <filter>
        <name>aai-fault-button-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/aai-fault-button</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/aai-fault-test</property>
        </output>
    </filter>

    <filter>
        <name>aai-chal-button-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/aai-chal-button</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/aai-chal-test</property>
        </output>
    </filter>

    <filter>
        <name>aai-test-button-light-emission-factor</name>
        <debug>false</debug>
        <type>gain</type>
        <gain>1.0</gain>
        <input>
            <expression>
                <product>
                    <property>controls/lighting/instruments-norm</property>
                    <min>
                        <property>fdm/jsbsim/systems/electrics/ac-essential-bus1-powered</property>
                        <value>1</value>
                    </min>
                    <min>
                        <sum>
                            <property>sim/model/f-14b/lights/master-test-lights</property>
                            <property>instrumentation/iff/aai-test-button</property>
                        </sum>
                        <value>1</value>
                    </min>
                </product>
            </expression>
        </input>
        <output>
            <property>sim/model/f-14b/lights/iff/aai-test-test</property>
        </output>
    </filter>


</PropertyList>
